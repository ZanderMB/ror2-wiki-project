{% extends "base.html" %}
{% load static %}

{% block content %}
<style>
    @import url('https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap');
    body { 
        background-color: #1A1625; 
        color: #e0e0e0; 
        border: 4px solid #1A1625; 
        box-sizing: border-box; 
        min-height: 100vh; 
    }
    .display-page-container { 
        display: grid; 
        grid-template-columns: 320px 1fr; 
        gap: 20px; 
        padding: 20px; 
    }
    .sidebar { 
        display: flex; 
        flex-direction: column; 
        gap: 20px; 
    }
    .sidebar-box {  
        padding: 20px; 
        background-color: #3D3356; 
    }
    .logo-box, .title-box { 
        text-align: center; 
    }
    .logo-image { 
        max-width: 150px; 
        height: auto; 
    }
    .title-box h1 { 
        font-family: 'Do Hyeon', sans-serif; 
        font-size: 3.5rem; color: #fff; 
        margin: 0; 
        line-height: 1; 
    }
    .description-box p { 
        font-size: 1.1rem; 
        line-height: 1.6; 
        margin: 0; 
    }
    .icon-grid-container { 
        padding: 20px; 
        background-color: #3D3356; 
    }
    .icon-grid {
        display: grid; 
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); 
        gap: 15px; 
    }
    .icon-card { 
        position: relative;  
        aspect-ratio: 1 / 1;
        display: flex; 
        justify-content: center; 
        align-items: center; 
        overflow: hidden; 
        transition: transform 0.2s ease, border-color 0.2s ease; 
    }
    .icon-card:hover { 
        transform: scale(1.1); 
        border-color: #fff; 
        z-index: 10; 
    }
    .icon-card img { 
        width: 100%; 
        height: 100%; 
        object-fit: contain; 
    }
    @media (max-width: 800px) { .display-page-container { grid-template-columns: 1fr; } }
</style>

<div class="display-page-container">
    <!-- Left Sidebar Column -->
    <aside class="sidebar">
        <div class="sidebar-box logo-box">
            <img src="{% static 'img-dump/ror2-logo.svg' %}" alt="ROR2 Logo" class="logo-image" href="{% url 'home' %}">
        </div>
        <div class="sidebar-box title-box">
            <h1>ITEMS</h1>
        </div>
        <div class="sidebar-box description-box">
            <p>Items are special collectibles that spawn while playing the game. Players can pick items up to gain a special effect based upon what type of item it is. Each item's icon also has a colored border to indicate its rarity: White = Common, Green = Uncommon, Red = Legendary, Yellow = Boss/Planet, Blue = Lunar, Purple = Void, and Orange = Equipment. Some items and equipment need to be unlocked by completing a Challenge to appear in game.</p>
        </div>
    </aside>

    <!-- Right Main Content Column -->
    <main class="icon-grid-container">
        <div class="icon-grid">
            {% for item in items %}
                <a href="{% url 'item-detail' item.pk %}" class="icon-card" title="{{ item.ItemName }}">
                    <img src="{% static item.ItemImg %}" alt="{{ item.ItemName }}">
                </a>
            {% empty %}
                <p>No items found in the database.</p>
            {% endfor %}
        </div>
    </main>
</div>
{% endblock %}